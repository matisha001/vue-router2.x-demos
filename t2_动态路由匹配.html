<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>t2_动态路由匹配</title>
	<script src="vue2.js"></script>
	<script src="vue-router.js"></script>
	<script>
/*
把某种模式匹配到的所有路由，全都映射到同个组件。
例如，对于所有 ID 各不相同的用户，都要使用这个组件来渲染。
一个『路径参数』使用冒号 : 标记。当匹配到一个路由时，参数值会被设置到 this.$route.params，
可以在每个组件内使用。
响应路由参数的变化 例如从 /user/foo 导航到 user/bar
因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。不过，这也意味着组件的生命周期钩子不会再被调用。
复用组件时，想对路由参数的变化作出响应的话，你可以简单地 watch（监测变化） $route 对象。
const User = {
  template: '...',
  watch: {
    '$route' (to, from) {
      // 对路由变化作出响应...
    }
  }
}
*/
/*
vue-router 使用 path-to-regexp 作为路径匹配引擎，所以支持很多高级的匹配模式，例如：可选的动态路径参数、匹配零个或多个、一个或多个，甚至是自定义正则匹配。
*/ 
/*
同一个路径可以匹配多个路由，此时，匹配的优先级就按照路由的定义顺序：谁先定义的，谁的优先级就最高。
*/
	</script>
</head>
<body>
<div id="app">
  <h1>Hello App!</h1>
  <p>
    <router-link to="/user/matisha">Go to Foo</router-link>
  </p>
  <router-view></router-view>
</div>
<script>
	const User = {
	  template: '<div>hello {{$route.params.id}}</div>'
	}

	const router = new VueRouter({
	  routes: [
	    { path: '/user/:id', component: User }
	  ]
	})

	const app = new Vue({
	  router
	}).$mount('#app')
</script>
</body>
</html>